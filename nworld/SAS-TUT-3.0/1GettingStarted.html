<html><head><title>Getting Started</title></head>
<body bgcolor=#ffffff>
 
<a href="../N-World-Intro.html">[N-World Contents]</A> <a href="Book TOC.html">[Book Contents]</a> <a href="Book TOC.html">[Prev]</a> <a href="2BuildingSkeletons.html">[Next]</a> <a href="BookIX.doc.html">[Index]</a>
<hr><br>
 
<a name="10714">
<h1>Getting Started</h1>
</a>
<hr><p><a name="12234">
<h4> In this chapter, you'll be introduced to the Skeletal Animation System. After a little instruction, you'll try your hand at animating your first skeleton!</h4>
</a><a name="12242">
 <P><img src="1GettingStarted.anc.gif"><p>
</a><a name="12221">
<h2><HR> In this Chapter</h2>
</a><a name="12247">
You'll learn about:<p>
</a><P><ul><a name="12248">
<li>the concepts behind the skeletal animation system
</a></li><P><a name="12249">
<li>how the SAS is integrated with other packages in N&#183;World, including N-Dynamics and N-Geometry
</a></li><P><a name="12259">
<li>how to animate a simple skeleton using motion capture data
</a></li><P><a name="12263">
<li>how to use the browser with the skeletal animation system
</a></li><P></ul><P><a name="12240">
<h2><HR> Concepts</h2>
</a><a name="11263">
The Skeletal Animation System was developed to simplify the animation of complex polyhedral objects. There are a variety of techniques, described below, to "attach" an object (or objects) to a skeleton.<p>
</a><P><a name="12611">
For example, objects can be attached as enveloping <em>skins</em> that deform to follow the animated skeleton (for more "organic" characters), or as <em>attached objects</em> that do not deform, but still follow the bone to which they are attached (for more "robotic" characters).<p>
</a><P><a name="12862">
You can create both skins and skeletons in the familiar N-Geometry environment, animate them in N-Dynamics, and, if you're developing game software, send both geometric and animation data directly to a target game system using products such as the <em>Game Express</em> or <em>Game Exchange</em>.<p>
</a><P><a name="12887">
One of the most difficult parts in using motion capture is refining the matching of a skin to a motion capture skeleton's base state. N&#183;World excels at this tough task because N-Geometry (our polygon modeler) makes it easy to define a correlation between a base state for the skin and a corresponding base state for the skeleton. However, <em>defining this correlation is the most time consuming part of the job.</em><p>
</a><P><a name="12888">
After you've associated a skin properly with the skeleton that will "drive" it, your motion editing should be fairly quick and simple, unlike other systems where you have to go through the matching process <em>for every motion</em>.<p>
</a><P><a name="12889">
Our recommendation? Spend your time in setup and let the system do the work for you!<p>
</a><P><a name="12574">
<h3> About Skeletons</h3>
</a><a name="12575">
Skeletons are a special type of object in N-Geometry, in that there are certain commands that apply only to them. However, just as with other N-Geometry objects, you can directly manipulate the object, body (skeleton), segments (bones), or points (joints).<p>
</a><P><a name="12583">
<h3> Driving Other Polyhedra with a Skeleton</h3>
</a><a name="12745">
There are two basic techniques for driving polyhedra:<p>
</a><P><ul><a name="12746">
<li><em>Single skins</em> are polyhedra that act like "envelopes" around a skeleton. Single skin models deform to follow the skeleton, can have soft parts around joints where shearing might normally occur, and support secondary "displacement" for generating natural looking features such as muscles bulging or bones moving beneath the skin.
</a></li><P><a name="12749">
<li><em>Attached objects</em> are objects that are associated with individual bones on a skeleton; the object follows the bone to which it is attached. Attached objects can be generated automatically, and are great for 3D game platforms.
</a></li><P></ul><P><a name="13000">
These two methods can be also be <em>mixed</em> when appropriate. For example, you may use a skin to create your basic character, then attach an object such as a hat or a sword, which does not need to deform based on changes in the skeleton's position.<p>
</a><P><a name="12636">
<h4> Animating Single Skin Objects</h4>
</a><a name="12596">
One basic technique for driving creating a character is to create a skeleton, then build a "skin" that closely matches that skeleton:<p>
</a><P><a name="12712">
 <P><img src="1GettingStarted.anc1.gif"><p>
</a><a name="12713">
<em>Figure 1.1  &#32; &#32;Skinning a skeleton
</em></a><P><a name="12642">
When you use the Skeletal Animation System to attach the "skin" to the skeleton, the skin is logically divided up into <em>skin parts</em>; each part is associated with a given bone on the skeleton. When you animate the bone, the appropriate parts of the associated skin are updated.<p>
</a><P><a name="12731">
 <P><img src="1GettingStarted.anc2.gif"><p>
</a><a name="12732">
<em>Figure 1.2  &#32; &#32;Moving the bone causes the single skin to deform
</em></a><P><a name="12659">
Using single skins is ideal if you want realistic surface deformations, soft areas around joints like the knee or elbow (for a more natural look), or the ability to create a character out of a single object.<p>
</a><P><a name="12595">
<h4> Animating with Attached Objects</h4>
</a><a name="12774">
Another technique which is commonly used in developing characters for the new generation of 3D game platforms is to use "attached objects" to simulate each "part" of a character-the head, arms, torso, and so forth are each individual objects that follow the bone to which they are attached.<p>
</a><P><a name="12787">
Attached objects are "hard"-that is, they do not deform based on the motion of the bone, but follow it, retaining their shape. Using attached objects results in characters that have a more "robotic" feel.<p>
</a><P><a name="12788">
You can attach objects manually (if, for example, you've already created the different parts of the model), or select the skeleton and make generate attached objects <em>automatically</em>:<p>
</a><P><a name="12680">
 <P><img src="1GettingStarted.anc3.gif"><p>
</a><a name="12681">
<em>Figure 1.3  &#32; &#32;The Make Attached Objects command attaches polyhedra to each bone
</em></a><P><a name="12793">
If you attach objects, you can use N-Geometry to modify those objects until your character looks just right:<p>
</a><P><a name="12690">
 <P><img src="1GettingStarted.anc4.gif"><p>
</a><a name="12692">
<em>Figure 1.4  &#32; &#32;You can modify the attached objects to create a unique character
</em></a><P><a name="12802">
Animating a character using attached objects still produce great results:<p>
</a><P><a name="12697">
 <P><img src="1GettingStarted.anc5.gif"><p>
</a><a name="12698">
<em>Figure 1.5  &#32; &#32;Animating the attached objects
</em></a><P><a name="12576">
<h3> Animating with Motion Capture Data</h3>
</a><a name="12578">
The Skeletal Animation System, which exists partly in N-Geometry and partly in N-Dynamics, can be used to drive skeletons using motion capture data from a variety of motion capture providers including <strong>Acclaim</strong>, <strong>BioVision</strong>, and <strong>Motion Analysis</strong>. You can also pose skeleton's using devices such as Digital Image Design's <strong>Monkey</strong>. With the Skeletal Animation System, you have several options when using motion capture data. You can:<p>
</a><P><ul><a name="12838">
<li>drive a skeleton with the default motion
</a></li><P><a name="12840">
<li>layer additional artist motion over the motion capture
</a></li><P><a name="12841">
<li>"decompose" motion capture into rotational data or pose data for easy editing
</a></li><P><a name="12845">
<li>blend poses into existing motion capture
</a></li><P><a name="12846">
<li>blend between different motion capture sequences for smooth transitions
</a></li><P></ul><P><a name="12579">
<h3> Traditional Animating with Skeletons</h3>
</a><a name="12580">
In addition to using motion capture data, animators can use the various commands in the Skeletal Animation System to create a series of poses, then animate the skeleton between those poses using N-Dynamics.<p>
</a><P><a name="12987">
<h3> Other Techniques</h3>
</a><a name="12988">
Other techniques for working with skeletons, skins, attached objects, motion capture, posing and many other topics are described in the following chapters and in the <em>Skeletal Animation System Reference Guide</em>.<p>
</a><P><a name="13019">
<h2><HR> The Skeletal Animation System, N-Geometry, and N-Dynamics</h2>
</a><a name="13020">
The Skeletal Animation System is incorporated into both N-Geometry and N-Dynamics:<p>
</a><P><ul><a name="13021">
<li>You use N-Geometry to create, modify, and pose skeletons
</a></li><P><a name="13022">
<li>You use N-Dynamics to animate skeletons and their attached skins:
</a></li><P><ul>
<BR><a name="13023">
<li>Rotate and lengthen bones
</a><P><BR><a name="13024">
<li>Animate between poses
</a><P><BR><a name="13025">
<li>Perform dynamic IK operations (e.g. make a skeleton reach for an object)
</a><P><BR><a name="13026">
<li>Animate a skeleton using motion capture data
</a><P><BR><a name="13027">
<li>Combine of all of the above
</a><P></ul>
<dl><a name="13028">
<dt>An entire operation class in N-Dynamics is devoted to the Skeletal Animation System.</dt>
</a><P></dl></ul><P><a name="13029">
<em>Remember that division:</em><p>
</a><P><ul><a name="13030">
<li>create in N-Geometry
</a></li><P><a name="13031">
<li>animate in N-Dynamics
</a></li><P></ul><P><a name="13032">
Using the browser with the SAS is described in the <em>Getting Started</em> manual.<p>
</a><P><a name="13033">
The various examples and sample scripts in this and the following chapters should give you a better understanding of the Skeletal Animation System.<p>
</a><P><a name="13034">
You can also refer to the <em>N-Geometry Reference Guide</em>, <em>N-Geometry Tutorial</em>, <em>N-Dynamics Reference Guide</em>, and <em>N-Dynamics Tutorial</em> for more information about those two modules.<p>
</a><P><a name="11110">
<h2><HR> Sample Objects and Scripts</h2>
</a><a name="11111">
The <em>Skeletal Animation System Tutorial</em> refers heavily to sample objects, scripts, and motion capture files. These elements are kept in subdirectories below the following main directory:<p>
</a><P><dl><dl><a name="11112">
<dt><code>/usr/local/ngc/demo</code></dt>
</a><P></dl></dl><a name="11113">
Subdirectories of tutorial materials include:<p>
</a><P><ul><a name="11114">
<li><code>/acclaim</code>
</a></li><P><dl><a name="11115">
<dt>Sample Acclaim format motion capture files.</dt>
</a><P></dl><a name="11116">
<li><code>/biovision</code>
</a></li><P><dl><a name="11117">
<dt>Sample BioVision format motion capture files.</dt>
</a><P></dl><a name="11118">
<li><code>/objects</code>
</a></li><P><dl><a name="11119">
<dt>Sample objects (primarily skins and attached objects).</dt>
</a><P></dl><a name="11120">
<li><code>/scripts</code>
</a></li><P><dl><a name="11121">
<dt>Scripts (which typically reference elements in the other directories described above.</dt>
</a><P></dl></ul><P><dl>
<dt><dd><font color=dd000><strong>Note.</strong>	<em>Other materials may also be included in these directories for other product tutorials.</em></font></dd></dt></dl><P>
<a name="10727">
<h2><HR> Animating a Simple Skeleton</h2>
</a><a name="10769">
While there are a number of ways to generate a skeleton in N&#183;World, let's start by reading one from one of the supplied sample motion capture files.<p>
</a><P><a name="11036">
Some motion capture formats (like Acclaim) save the skeleton and motion capture data in separate files; you must specify both the skeleton and motion capture file when animating the skeleton in N-Dynamics.<p>
</a><P><a name="10770">
For other formats (like BioVision), a skeleton description is included in the header of the motion capture file, which includes the skeleton's hierarchy and bone names. N&#183;World can parse that header and generate a skeleton object. <p>
</a><P><a name="11066">
Try this:<p>
</a><P>
<a name="10772">
<STRONG>	 1.	 <strong>(CLICK-L)</strong> on GeoMenus&gt;File&gt;Open.
</STRONG>
</a><P><a name="10779">
 <P><img src="1GettingStarted.anc6.gif"><p>
</a>
<a name="10780">
<em>Figure 1.1  &#32; &#32;Add a new object
</em></a><P><dl><dl><a name="10791">
<dt>The following dialog box appears:</dt>
</a><P><a name="10795">
 <P><img src="1GettingStarted.anc7.gif"><p>
</a></dl></dl><a name="10796">
<em>Figure 1.2  &#32; &#32;Reading in an object
</em></a><P><dl><dl><a name="10797">
<dt>N-Geometry's dialog box lets you load a skeleton from disk; the SAS can read skeletons from the header of a motion capture files from a number of vendors.</dt>
</a><P><a name="10798">
<dt>By default, N-Geometry assumes you want to read in a .geo object; however, we want to read in a BioVision skeleton.</dt>
</a><P></dl></dl>
<a name="10799">
<STRONG>	2.	 <strong>(CLICK-L)</strong> on the "<strong>bvh</strong>" button.
</STRONG>
</a><P><a name="10800">
<STRONG>	3.	 Specify the directory that contains the motion capture file whose skeleton you want to read in. 
</STRONG>
</a><P><dl><a name="10801">
<dt>Try the following directory:</dt>
</a><P><dl><a name="10802">
<dt><code>/usr/local/ngc/demo/biovision/</code><p>
</a><P><a name="10807">
 <P><img src="1GettingStarted.anc8.gif"><p>
</a></dl></dl>
<a name="10809">
<em>Figure 1.3  &#32; &#32;Reading in an object
</em></a><P>
<a name="10810">
<STRONG>	4.	 <strong>(CLICK-L)</strong> on <strong>Select One</strong>.
</STRONG>
</a><P><dl><a name="10811">
<dt>A list of motion capture files in the current directory is displayed in a list like the one shown below:</dt>
</a><P><a name="10815">
 <P><img src="1GettingStarted.anc9.gif"><p>
</a></dl>
<a name="10816">
<em>Figure 1.4  &#32; &#32;Choosing a skeleton object
</em></a><P><dl>
<dt><dd><font color=dd000><strong>Note.</strong>	<em>N&#183;World includes a number of motion capture files in the Acclaim format in the following directory:<br></em><br><code>/usr/local/ngc/demo/acclaim<br></code><br><em>If you want to read in a skeleton from an Acclaim format motion capture file, select the </em><strong>asf</strong><em> button in the dialog box shown in <a href="1GettingStarted.html#10809">Figure 1.3</a>.</em></font></dd></dt></dl><P>

<a name="10821">
<STRONG>	5.	 <strong>(CLICK-L)</strong> on WalkGoofy.bvh.
</STRONG>
</a><P><a name="10822">
<STRONG>	6.	 <strong>(CLICK-L)</strong> on Read in Object.
</STRONG>
</a><P><dl><a name="10823">
<dt>The skeleton appears as a blue-wireframe object in the Nichimen Geometry window:</dt>
</a><P></dl>
<a name="10824">
This skeleton can now be modified just like any skeleton in the SAS. The next section shows how to apply a motion capture file to the skeleton you just loaded.<p>
</a><P><a name="10825">
<h3> Animating with Motion Capture Data</h3>
</a><a name="10826">
The skeleton in the Nichimen Geometry window was automatically generated from the header portion of the selected BioVision file. The data describing the skeletal motion refers to the various bone names on the skeleton, and "fits" that skeleton. For information on scaling motion capture data to fit a skeleton other than the one it was saved for, see the section <a href="10EditingMCData.html#">"Copying Motion Data between Skeletons," on page &#32;10-14</a>.<p>
</a><P><a name="10830">
So you can get a quick idea of how motion capture "looks" in N&#183;World, let's animate this skeleton in N-Dynamics.<p>
</a><P>
<a name="10831">
<STRONG>	7.	 Open N-Dynamics.
</STRONG>
</a><P><a name="10832">
<STRONG>	8.	 <strong>(CLICK-L)</strong> on the File button.
</STRONG>
</a><P><a name="10833">
<STRONG>	9.	 <strong>(CLICK-L)</strong> on <strong>Create New Script</strong>.
</STRONG>
</a><P><dl><a name="12469">
<dt>In the dialog that appears:</dt>
</a><P></dl><ul>
<BR><a name="12492">
<li>Use the default name "script-1"
</a><P><BR><a name="12475">
<li>Specify two channels
</a><P></ul>
<a name="12486">
<STRONG>	10.	 <strong>(CLICK-L)</strong> on Do It.
</STRONG>
</a><P><dl><a name="10840">
<dt>Your script should now look something like this:</dt>
</a><P><a name="10844">
 <P><img src="1GettingStarted.anc10.gif"><p>
</a></dl>
<a name="10845">
<em>Figure 1.5  &#32; &#32;Creating a basic script
</em></a><P><a name="10846">
<h4> Selecting a Skeleton and Motion Capture File</h4>
</a><a name="10847">
The first thing we need to do to animate a skeleton using motion capture data is to specify which skeleton we want to animate and which motion capture file we want to use to animate it. The Read Biovision Data operation does just that.<p>
</a><P>
<a name="10848">
<STRONG>	11.	 <strong>(CLICK-M)</strong> on the first channel.
</STRONG>
</a><P><a name="10849">
<STRONG>	12.	 <strong>(CLICK-L)</strong> on the Operation text box.
</STRONG>
</a><P><dl><a name="10850">
<dt>The color-coded <strong>Select Operation Class</strong> menu is displayed.</dt>
</a><P></dl><a name="10851">
<STRONG>	13.	 In the blue Geometry section, <strong>(CLICK-L)</strong> on the Skeleton Animation class.
</STRONG>
</a><P><dl><a name="10852">
<dt>The various N-Dynamics skeletal animation operations are displayed.</dt>
</a><P></dl><a name="10853">
<STRONG>	14.	 <strong>(CLICK-L)</strong> on Read Biovision data.
</STRONG>
</a><P><dl><a name="10854">
<dt>The <strong>Edit Action Properties</strong> dialog appears for the Read Biovision Data operation:</dt>
</a><P><a name="10858">
 <P><img src="1GettingStarted.anc11.gif"><p>
</a></dl>
<a name="10860">
<em>Figure 1.6  &#32; &#32;Reading Biovision data (shown with modified values)
</em></a><P>
<a name="10861">
<STRONG>	15.	 <strong>(CLICK-L)</strong> on the Skeleton text box.
</STRONG>
</a><P><dl><a name="10862">
<dt>A list of objects currently loaded into N-Geometry is displayed. Note that the object "WalkGoofy" appears on the list. Remember that our skeleton was generated from a motion capture file called "WalkGoofy.bvh"-when loading a BioVision skeleton from a motion capture file, the skeleton object is given a name that matches the motion capture file name.</dt>
</a><P></dl><a name="10863">
<STRONG>	16.	 From the list that appears, <strong>(CLICK-L)</strong> on WalkGoofy.
</STRONG>
</a><P><a name="10864">
<STRONG>	17.	 <strong>(CLICK-M)</strong> on the Motion Dir. text field.
</STRONG>
</a><P><dl><a name="10865">
<dt>Specify the directory that contains the motion capture file. For this example, enter the following directory:</dt>
</a><P><dl><a name="10866">
<dt><code>/usr/local/ngc/demo/biovision</code><p>
</a><P></dl></dl><a name="10867">
<STRONG>	18.	 <strong>(CLICK-R)</strong> on the .bvh file name text box.
</STRONG>
</a><P><dl><a name="10868">
<dt>A list of all the files ending in .bvh for the directory specified above are displayed.</dt>
</a><P></dl><a name="10869">
<STRONG>	19.	 <strong>(CLICK-L)</strong> on WalkGoofy.bvh.
</STRONG>
</a><P><dl><a name="10870">
<dt>If the saved motion capture file is of a different length than the current script (which defaults to 30 frames), you're asked if you want to modify the script's length to match the motion:</dt>
</a><P><a name="10874">
 <P><img src="1GettingStarted.anc12.gif"><p>
</a></dl>
<a name="10875">
<em>Figure 1.7  &#32; &#32;Change script length?
</em></a><P>
<a name="10876">
<STRONG>	20.	 <strong>(CLICK-L)</strong> on Yes.
</STRONG>
</a><P><dl><a name="10877">
<dt>This automatically adjusts the length of the script. The new script lenght appears in the bottom right corner of the script editor window. The dialog box should now have the same values as shown in <a href="1GettingStarted.html#10860">Figure 1.6</a>.</dt>
</a><P></dl><a name="10881">
<STRONG>	21.	 <strong>(CLICK-L)</strong> on Do It at the bottom of the Edit Action Properties dialog box.
</STRONG>
</a><P><dl><a name="10882">
<dt>Note that the channel name changes to "Read Biovision Data."</dt>
</a><P></dl>
<a name="10883">
<h4> Update the Skeleton</h4>
</a><a name="10884">
After selecting the skeleton and the motion capture file we want to use, we need to include an operation that tells "how" that motion capture should be applied to the skeleton. We'll use the <strong>Update Skeleton</strong> operation to actually animate the skeleton.<p>
</a><P>
<a name="10885">
<STRONG>	22.	 <strong>(CLICK-M)</strong> on the second channel.
</STRONG>
</a><P><a name="10886">
<STRONG>	23.	 <strong>(CLICK-L)</strong> on the Operations text box.
</STRONG>
</a><P><a name="10887">
<STRONG>	24.	 Under the Geometry module, <strong>(CLICK-L)</strong> on the Skeleton Animation class.
</STRONG>
</a><P><a name="10888">
<STRONG>	25.	 <strong>(CLICK-L)</strong> on Update Skeleton.
</STRONG>
</a><P><dl><a name="10889">
<dt>The <strong>Edit Action Properties</strong> dialog for the <strong>Update Skeleton</strong> operation appears:</dt>
</a><P><a name="10893">
 <P><img src="1GettingStarted.anc13.gif"><p>
</a></dl>
<a name="10894">
<em>Figure 1.8  &#32; &#32;Updating a skeleton (shown with modified values)
</em></a><P>
<a name="10895">
<STRONG>	26.	 In the Skeleton section, <strong>(CLICK-L)</strong> on the Name text box.
</STRONG>
</a><P><dl><a name="10896">
<dt>A list of objects currently loaded into N-Geometry is displayed. </dt>
</a><P></dl><a name="10897">
<STRONG>	27.	 <strong>(CLICK-L)</strong> on the skeleton you want to update in this channel.
</STRONG>
</a><P><dl><a name="10898">
<dt>In this case, choose the object "WalkGoofy" again.</dt>
</a><P></dl><a name="10899">
<STRONG>	28.	 For Visible? <strong>(CLICK-L)</strong> on Yes.
</STRONG>
</a><P><dl><a name="10900">
<dt>This makes the skeleton visible.</dt>
</a><P></dl><a name="10901">
<STRONG>	29.	 In the Skins section, set Update? and Displace? to No.
</STRONG>
</a><P><dl><a name="10902">
<dt>This part of the operation updates any skins that might be attached to the object (right now, the skeleton has no attached skins).</dt>
</a><P></dl><a name="10903">
<STRONG>	30.	 In the Root Transformations section, set Translate? and Rotate? to Yes, but Scale? to No.
</STRONG>
</a><P><dl><a name="10904">
<dt>These parameters specify whether any translation, rotation, or scaling data in the motion capture file are applied to the skeleton when updating it. There are certain cases when you want to turn some of these on and off; each is discussed in later tutorials.</dt>
</a><P></dl><a name="10905">
<STRONG>	31.	 <strong>(CLICK-L)</strong> on Do It at the bottom of the Edit Action Properties dialog box.
</STRONG>
</a><P><dl><a name="10906">
<dt>Note that the channel name changes to "WalkGoofy Update Skeleton:"</dt>
</a><P></dl>
<a name="10907">
Your basic script should now look like this:<p>
</a><P><a name="10911">
 <P><img src="1GettingStarted.anc14.gif"><p>
</a><a name="10912">
<em>Figure 1.9  &#32; &#32;Modified basic script
</em></a><P><a name="10913">
<h4> Doing a Test Animation</h4>
</a><a name="10914">
Next, let's see what the motion looks like.<p>
</a><P>
<a name="10915">
<STRONG>	32.	 <strong>(CLICK-L)</strong> on the Animate button in the N-Dynamics script editor.
</STRONG>
</a><P><dl><a name="10916">
<dt>The animate button lets you execute a script. For each frame in the script, channels are executed from top to bottom. (You can stretch or shrink channels so that they apply to only part of a script, as described in the <em>N-Dynamics Reference Guide</em>.)</dt>
</a><P><a name="10917">
<dt>When you animate a script, the object's position is updated in the N-Geometry window; both packages are integrated, so that the script actually updates the referenced objects in N-Geometry.</dt>
</a><P><a name="10918">
<dt>When you animate a script, the word "Animating..." appears across the top of the Nichimen Geometry window. </dt>
</a><P></dl>
<dl>
<dt><dd><font color=dd000><strong>Note.</strong>	<em>To stop an animation in progress, </em><strong>(CLICK-R)</strong><em> on the N-Dynamics window.</em></font></dd></dt><dl><a name="10920">
<dt>A 1-bit preview is automatically generated during animation, which lets you preview your animation in real time.</dt>
</a><P></dl></dl><P>

<a name="10921">
<STRONG>	33.	 <strong>(CLICK-L)</strong> on the Playback button.
</STRONG>
</a><P><dl><a name="10922">
<dt>If you didn't change the camera angle, you probably saw the bottom portion of your skeleton moving through the N-Geometry window, (as shown in <a href="1GettingStarted.html#10931">Figure 1.10</a>).</dt>
</a><P><a name="10929">
 <P><img src="1GettingStarted.anc15.gif"><p>
</a></dl>
<a name="10931">
<em>Figure 1.10  &#32; &#32;A test animation
</em></a><P><dl><dl><a name="10932">
<dt>To see the entire captured motion, let's adjust the camera.</dt>
</a><P></dl></dl>
<a name="10933">
<STRONG>	34.	 <strong>(CLICK-M)</strong> on the Nichimen Geometry window, adjusting the camera's angle and its distance from the skeleton.
</STRONG>
</a><P><a name="10937">
 <P><img src="1GettingStarted.anc16.gif"><p>
</a>
<a name="10938">
<em>Figure 1.11  &#32; &#32;Improving the view angle
</em></a><P>
<a name="10939">
<STRONG>	35.	 <strong>(CLICK-L)</strong> on Animate again.
</STRONG>
</a><P><dl><a name="10940">
<dt>This time, you should be able to see the skeleton's entire motion sequence.</dt>
</a><P></dl><a name="10941">
<STRONG>	36.	 <strong>(CLICK-L)</strong> on Playback again.
</STRONG>
</a><P><dl><a name="10942">
<dt>A new 1-bit preview of your animation plays back in real time. If you like the camera angle, you can save it as part of your script by adding a new channel to control the camera position.</dt>
</a><P></dl><a name="10943">
<STRONG>	37.	 <strong>(CLICK-R)</strong> on the black title bar of the script editor window.
</STRONG>
</a><P><a name="10944">
<STRONG>	38.	 <strong>(CLICK-L)</strong> on Add Parallel Subactions.
</STRONG>
</a><P><a name="10945">
<STRONG>	39.	 <strong>(CLICK-L)</strong> on Add One.
</STRONG>
</a><P><a name="10946">
<STRONG>	40.	 <strong>(CLICK-M)</strong> on the New Subchannel.
</STRONG>
</a><P><a name="10947">
<STRONG>	41.	 <strong>(CLICK-L)</strong> on the Operation text box.
</STRONG>
</a><P><a name="10948">
<STRONG>	42.	 <strong>(CLICK-L)</strong> on Camera.
</STRONG>
</a><P><a name="10949">
<STRONG>	43.	 <strong>(CLICK-L)</strong> on Set View.
</STRONG>
</a><P><a name="10950">
<STRONG>	44.	 Next to the Viewer parameter, <strong>(CLICK-L)</strong> on Source and choose Local from the list that appears.
</STRONG>
</a><P><dl><a name="10951">
<dt>The camera's current position appears in the Viewer text edit box.</dt>
</a><P></dl><a name="10952">
<STRONG>	45.	 <strong>(CLICK-L)</strong> on the text box next to Viewer.
</STRONG>
</a><P><dl><a name="10953">
<dt>From the list that appears, choose <strong>Select Current Geo View</strong>.</dt>
</a><P></dl><a name="10954">
<STRONG>	46.	 <strong>(CLICK-L)</strong> on Do It to save the camera's position.
</STRONG>
</a><P>
<a name="10955">
<h4> Changing the Order of Channels in the Script</h4>
</a><a name="10956">
The last thing we need to do is rearrange the channels so that the camera is adjusted at the <em>beginning </em>of each frame. To reorder the subchannels:<p>
</a><P>
<a name="10957">
<STRONG>	47.	 <strong>(CLICK-R)</strong> on the black title bar for the script.
</STRONG>
</a><P><a name="10958">
<STRONG>	48.	 <strong>(CLICK-L)</strong> on Reorder Subchannels.
</STRONG>
</a><P><dl><a name="10959">
<dt>The following dialog box appears:</dt>
</a><P><a name="10963">
 <P><img src="1GettingStarted.anc17.gif"><p>
</a></dl>
<a name="10964">
<em>Figure 1.12  &#32; &#32;Reordering subchannels
</em></a><P>
<a name="10965">
<STRONG>	49.	 <strong>(DRAG-L)</strong> the Set View operation to the top of the list.
</STRONG>
</a><P>
<a name="10966">
Now, you can execute the script even if the camera has been moved.<p>
</a><P><a name="10967">
<h4> Saving Your Script</h4>
</a><a name="10968">
To save the script:<p>
</a><P>
<a name="10969">
<STRONG>	50.	 <strong>(CLICK-L)</strong> on Save.
</STRONG>
</a><P><a name="10970">
<STRONG>	51.	 <strong>(CLICK-L)</strong> on Write Scripts and Objects.
</STRONG>
</a><P><dl><a name="10971">
<dt>A dialog box asking you where you want to save any new objects is displayed:</dt>
</a><P><a name="10975">
 <P><img src="1GettingStarted.anc18.gif"><p>
</a></dl>
<a name="10976">
<em>Figure 1.13  &#32; &#32;Saving your script
</em></a><P>
<a name="10977">
<STRONG>	52.	 Enter a new name for the script.
</STRONG>
</a><P><a name="10978">
<STRONG>	53.	 Specify the directory in which you want to save the newly added elements.
</STRONG>
</a><P>
<dl>
<dt><dd><font color=dd000><strong>Note.</strong>	<em>You can't save elements in the demo directory (/usr/local/ngc/demo directory or its subdirectories). These have been made read only so that these elements aren't accidentally overwritten. When saving elements, save them to a different directory..</em></font></dd></dt></dl><P>

<a name="10980">
<STRONG>	54.	 If the skeleton has been moved from its base state (its position when first read in), the following warning message is displayed:
</STRONG>
</a><P><a name="10984">
 <P><img src="1GettingStarted.anc19.gif"><p>
</a>
<a name="10985">
<em>Figure 1.14  &#32; &#32;Saving the skeleton after modifying its position or base state causes the above message to be displayed
</em></a><P>
<a name="10986">
<STRONG>	55.	 <strong>(CLICK-L)</strong> on Yes to save the skeleton.
</STRONG>
</a><P><dl><a name="10987">
<dt>We'll discuss the concept of a "base" state for a skeleton in later chapters.</dt>
</a><P></dl>
<a name="11302">
<h4> Saving Your Objects</h4>
</a><a name="11303">
While saving a script also saves any referenced objects, you may also want to objects straight out of N-Geometry. An object is any element that you create or read into N-Geometry, such as your skeletons, any skins, or attached objects.<p>
</a><P><a name="11304">
To save objects from N-Geometry:<p>
</a><P>
<a name="11305">
<STRONG>	 1.	 <strong>(CLICK-L)</strong> on the Nichimen Geometry window.
</STRONG>
</a><P><a name="11306">
<STRONG>	2.	 <strong>(CLICK-L)</strong> on Save in the Output section of the GeoMenus.
</STRONG>
</a><P><dl><a name="11307">
<dt>The following dialog box is displayed:</dt>
</a><P><a name="11311">
 <P><img src="1GettingStarted.anc20.gif"><p>
</a></dl>
<a name="11312">
<em>Figure 1.15  &#32; &#32;Selecting an object to save
</em></a><P><dl><dl><a name="11313">
<dt>This pick list displays all the elements currently loaded into N-Geometry.</dt>
</a><P></dl></dl>
<a name="11314">
<STRONG>	3.	 <strong>(CLICK-L)</strong> on the object you want to save, then <strong>(CLICK-L)</strong> on Do It.
</STRONG>
</a><P><dl><a name="11315">
<dt>The following dialog box is displayed:</dt>
</a><P><a name="11319">
 <P><img src="1GettingStarted.anc21.gif"><p>
</a></dl>
<a name="11320">
<em>Figure 1.16  &#32; &#32;N-Geometry's save dialog box
</em></a><P><ul><ul>
<BR><a name="11321">
<li><strong>FILENAME</strong> specifies the name of the file to be written. N-Geometry now forces this name to be the same as that of the object. If necessary, N-Geometry replaces certain characters so that the filename is valid for other file systems.
</a><P><BR><a name="11322">
<li><strong>Object name</strong> lets you name the object. Changing this value renames the object and changes the filename.
</a><P><BR><a name="11323">
<li><strong>Write-out units</strong> specifies the units in which the object's coordinates are saved. Changing this value scales the object coordinates correspondingly. The default is the current global unit.
</a><P><BR><a name="11324">
<li><strong>Documentation</strong> lets you write a description of the object at the beginning of the .obj file. This comes in handy when you write multiple versions of the same large file. You then need not load a file to find out which version it is; instead, type the following command at a LISP Listener:
</a><P></ul>
<a name="11325">
<code><pre><strong>	</strong>Show File &lt;filename&gt;<p>
</code></pre></a><ul>
<BR><a name="11326">
<li><strong>File Format</strong> saves objects in the specified format:
</a><P></ul>
</ul><dl>
<dt><dd><font color=dd000><strong>Note.</strong> 	<em>If your object has displacements or GL Shade parameters assigned to it, it must be saved in N-Geometry's native .geo format; other formats do not support these features.</em></font></dd></dt><a name="11377">
  
<P><Table Border="1">
<dl>
<a name="11330">
<em>Table 1.1 <strong></strong><em> &#32; &#32;Saving objects from N-Geometry</em>
</em></a></dl>
<tr><th align="left"><a name="11336">
Format
</a><th align="left"><a name="11338">
Extension
</a><th align="left"><a name="11340">
Description
</a>
<tr><td valign="top"><a name="11342">
 Geometry <p>
</a><td valign="top"><a name="11344">
 .geo<p>
</a><td valign="top"><a name="11346">
 ASCII or multi-file mixed (ASCII/ASCII or ASCII/Binary)<p>
</a>
<tr><td valign="top"><a name="11348">
 dxf<p>
</a><td valign="top"><a name="11350">
 .dxf<p>
</a><td valign="top"><a name="11352">
 AutoCAD DXF ASCII format<p>
</a>
<tr><td valign="top"><a name="11354">
 obj<p>
</a><td valign="top"><a name="11356">
 .obj<p>
</a><td valign="top"><a name="11358">
 Wavefront ASCII polygonal format<p>
</a>
<tr><td valign="top"><a name="11360">
 hrc<p>
</a><td valign="top"><a name="11362">
 .hrc<p>
</a><td valign="top"><a name="11364">
 SoftImage ASCII format<p>
</a>
<tr><td valign="top"><a name="11366">
 asf<p>
</a><td valign="top"><a name="11368">
 .asf<p>
</a><td valign="top"><a name="11370">
 Acclaim skeleton format<p>
</a>
<tr><td valign="top"><a name="11372">
 bvh<p>
</a><td valign="top"><a name="11374">
 .bvh<p>
</a><td valign="top"><a name="11376">
 BioVision skeleton format<p>
</a>

</Table>

<Table>
<tr><td>
</Table>
<p>
</a><ul>
<BR><a name="11378">
<li><strong>Separate body files?</strong> saves an object in N-Geometry format, and lets you choose one of three formats in which to save the object:
</a><P><ul>
<BR><a name="11379">
<li><strong>Binary</strong> saves each body in binary format, creating .body and .bbd (binary body descriptor) files for each of the object's terminal objects. Saving objects in binary format creates smaller files that can be written and read faster. When you save an object in binary format, N-Geometry writes three types of files: one .obj file, plus a .body file and a .bbd file for each terminal object in the object group.
</a><P><BR><a name="11380">
<li><strong>Text</strong> when you save an object in text format, N-Geometry writes one .obj file, plus a .body file and a .tbd file for each terminal object.
</a><P><BR><a name="11381">
<li><strong>No</strong> saves in the old style .obj format, writing one large ASCII text file.
</a><P></ul>
<dl><a name="11382">
<dt>A .body file is a short text file that contains the name of the flavor of the body, a list of the .obj files that refer to the body (multiple objects or versions can refer to a single body), and the versions of the body files that were current when the .obj file was written.<p>
</a><P><a name="11383">
<dt>By default, N-Geometry stores the .body, .bbd, and .tbd files in a directory called Bodies, which N-Geometry creates as a subdirectory of the directory where the objects are stored. <p>
</a><P><a name="11384">
<dt>For example, suppose you are restructuring two objects, cube and cube[2], into a new object named cube-group and stored in the /cube directory. N-Geometry stores the top-level object file, cube-group.obj, in the /cube directory but stores the .body and the .bbd files in /cube/bodies.<p>
</a><P></dl><BR><a name="11385">
<li><strong>Number elements?</strong> specifies whether the number for each element is written as part of the file.
</a><P></ul>
<dl><a name="11386">
<dt><strong>Faces by vertex?</strong> specifies whether vertex numbers for each face on the object is written as part of the file.</dt>
</a><P></dl></dl><P>
<a name="11387">
This dialog box is also described in the <em>N-Geometry Reference Guide</em>.<p>
</a><P><a name="11388">
<h3> What Gets Saved?</h3>
</a><a name="11389">
This section describes what is saved with each type of element used by the Skeletal Animation System.<p>
</a><P><a name="11390">
<h4> Skeleton</h4>
</a><a name="11391">
What gets saved with a skeleton?<p>
</a><P><ul><a name="11392">
<li>The skeleton object
</a></li><P><a name="11393">
<li>Rotation order for the skeleton object
</a></li><P><a name="11394">
<li>Rotation order, bone length, DOF Limits, and IK Sets (if any) for each bone in each saved base state
</a></li><P><a name="11395">
<li>Poses-lengths and rotations for each bone modified for the pose.
</a></li><P><a name="11396">
<li>A list of attached skins/objects
</a></li><P></ul><P><dl>
<dt><dd><font color=dd000><strong>Note.</strong>	<em>If an attached skin has not been saved when you save the skeleton, you are asked if you want to save the skin.</em></font></dd></dt></dl><P>
<a name="11398">
<h4> Skin</h4>
</a><a name="11399">
What gets saved with a skin?<p>
</a><P><ul><a name="11400">
<li>The skin object
</a></li><P><a name="11401">
<li>Soft and hard part descriptions
</a></li><P><a name="11402">
<li>List of skin parts
</a></li><P><a name="11403">
<li>List of displacements (if any)
</a></li><P><a name="11404">
<li>List of skin displacements (if any)
</a></li><P></ul><P><a name="11405">
<h4> Script</h4>
</a><a name="11406">
Saving an animation from N-Dynamics lets you save the script <em>and</em> any referenced elements at the same time. When you save a script from N-Dynamics, a dialog box similar to the one shown below is displayed:<p>
</a><P><a name="11410">
 <P><img src="1GettingStarted.anc22.gif"><p>
</a><a name="11411">
<em>Figure 1.17  &#32; &#32;Saving a script
</em></a><P><a name="11412">
What gets saved with a script?<p>
</a><P><ul><a name="11413">
<li>The script
</a></li><P><a name="11414">
<li>Any referenced objects
</a></li><P><a name="11415">
<li>Any referenced motion capture files
</a></li><P></ul><P><a name="11416">
This dialog box is described in more detail in the <em>N-Dynamics Reference Guide</em>.<p>
</a><P><a name="12451">
<h2><HR> Congratulations!</h2>
</a><a name="12452">
You've now created a basic script, animated a skeleton using motion capture data, adjusted the camera, played back your animation, and saved your work.<p>
</a><P>
<hr><br>
 
<a href="../N-World-Intro.html">[N-World Contents]</A> <a href="Book TOC.html">[Book Contents]</a> <a href="Book TOC.html">[Prev]</a> <a href="2BuildingSkeletons.html">[Next]</a> <a href="BookIX.doc.html">[Index]</a>
<hr><br>
 


<IMG SRC="small-logo.gif" align=right>Another fine product from Nichimen documentation!<P>
<i>Copyright &#169; 1996, Nichimen Graphics Corporation.   All rights
reserved.</i>

<!-- This file was created with Quadralay WebWorks Publisher 3.0.4 -->
<!-- -->
<!-- For more information on how this document, and how the rest of -->
<!-- this server was created, email doc@nichimen.com -->
<!-- -->
<!-- Last updated: 08/30/96 18:35:20 -->

</body>
</html>
